<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">eEGG电子球 - 完整资源中心</title>
    <!-- <script src="https://unpkg.com/qrcode@1.5.3/build/qrcode.min.js"></script> -->
    <script src="qrcode.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: #2575fc;
            color: white;
            padding: 40px 20px;
            text-align: center;
            position: relative;
        }
        
        .logo{
          position: absolute;
          top: 20px;
          left: 20px;
          width: 100px;
          height: auto;
          filter: drop-shadow(0 2px 3px rgba(0,0,0,.25));
        }
        
        .language-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }
        
        .lang-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .lang-btn.active {
            background: rgba(255, 255, 255, 0.4);
            font-weight: bold;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .nav-tabs {
            display: flex;
            background: #f0f4f8;
            border-bottom: 2px solid #e0e0e0;
            overflow-x: auto;
            white-space: nowrap;
        }
        
        .tab-btn {
            flex: 1;
            min-width: 180px;
            padding: 18px 20px;
            background: none;
            border: none;
            border-right: 1px solid #e0e0e0;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: #555;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .tab-btn:last-child {
            border-right: none;
        }
        
        .tab-btn:hover {
            background: #e3f2fd;
            color: #2575fc;
        }
        
        .tab-btn.active {
            background: white;
            color: #2575fc;
            border-bottom: 3px solid #2575fc;
            position: relative;
            top: 1px;
        }
        
        .tab-btn i {
            font-size: 1.2rem;
        }
        
        .tab-content {
            padding: 40px;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        .tab-content h2 {
            color: #2575fc;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
            font-size: 1.8rem;
        }
        
        .tab-content h3 {
            color: #2c3e50;
            margin: 25px 0 15px;
            font-size: 1.4rem;
        }
        
        .tab-content h4 {
            color: #34495e;
            margin: 20px 0 10px;
            font-size: 1.2rem;
        }
        
        .tab-content p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .tab-content ul, .tab-content ol {
            margin-bottom: 20px;
            padding-left: 25px;
        }
        
        .tab-content li {
            margin-bottom: 10px;
        }
        
        .tab-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .tab-content th {
            background: #2575fc;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 600;
        }
        
        .tab-content td {
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            text-align: center;
        }
        
        .tab-content tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .download-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
        }
        
        .download-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .download-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .download-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .download-card h4 {
            color: #2575fc;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .download-card p {
            margin-bottom: 20px;
            color: #666;
            min-height: 60px;
        }
        
        .download-btn {
            display: inline-block;
            background: #2575fc;
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
        }
        
        .download-btn:hover {
            background: #1c68e0;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(37, 117, 252, 0.3);
        }
        
        .qr-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        #qrcode {
            display: inline-block;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .warning strong {
            color: #856404;
        }
        
        .note {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .note strong {
            color: #0c5460;
        }
        
        .manual-section {
            margin-bottom: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .feature-table {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #2575fc;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 12px rgba(37, 117, 252, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            display: none;
        }
        
        .back-to-top:hover {
            background: #1c68e0;
            transform: translateY(-3px);
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background: #f8f9fa;
            color: #666;
            font-size: 0.95rem;
            border-top: 1px solid #e0e0e0;
        }
        
        .manual-link {
            display: inline-block;
            margin: 10px 5px;
            padding: 8px 16px;
            background: #e3f2fd;
            color: #2575fc;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .manual-link:hover {
            background: #2575fc;
            color: white;
        }
        
        @media (max-width: 768px) {
            .logo {
                width: 60px;
                top: 15px;
                left: 15px;
            }
            
            header {
                padding: 30px 15px;
            }
            
            header h1 {
                font-size: 1.8rem;
            }
            
            header p {
                font-size: 1rem;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .tab-btn {
                min-width: 100%;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
                justify-content: flex-start;
                padding: 15px;
            }
            
            .tab-btn.active {
                border-bottom: 3px solid #2575fc;
            }
            
            .tab-content {
                padding: 25px 15px;
            }
            
            .tab-content h2 {
                font-size: 1.5rem;
            }
            
            .download-grid {
                grid-template-columns: 1fr;
            }
            
            .language-switcher {
                position: static;
                justify-content: center;
                margin-top: 15px;
            }
            
            .feature-table table {
                font-size: 0.9rem;
            }
            
            .feature-table th, 
            .feature-table td {
                padding: 8px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                border-radius: 15px;
            }
            
            .tab-content h2 {
                font-size: 1.3rem;
            }
            
            .tab-content h3 {
                font-size: 1.2rem;
            }
            
            .download-card {
                padding: 15px;
            }
        }
        
        .icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            margin-right: 8px;
            vertical-align: middle;
        }
        
        .content-wrapper {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .content-wrapper::-webkit-scrollbar {
            width: 8px;
        }
        
        .content-wrapper::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .content-wrapper::-webkit-scrollbar-thumb {
            background: #2575fc;
            border-radius: 4px;
        }
        
        .content-wrapper::-webkit-scrollbar-thumb:hover {
            background: #1c68e0;
        }
    </style>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <img class="logo" src="eEGGlogo.svg" alt="eEGG Logo">
            <div class="language-switcher">
                <button class="lang-btn" data-lang="zh">中文</button>
                <button class="lang-btn" data-lang="en">English</button>
            </div>
            <h1 id="headerTitle">eEGG电子球资源中心</h1>
            <p id="headerSubtitle">用户手册、应用下载、工具软件一站式获取</p>
        </header>
        
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="manual">
                <i class="fas fa-book"></i>
                <span id="tabManual">用户手册</span>
            </button>
            <button class="tab-btn" data-tab="apk">
                <i class="fas fa-mobile-alt"></i>
                <span id="tabAPK">应用下载</span>
            </button>
            <button class="tab-btn" data-tab="tools">
                <i class="fas fa-tools"></i>
                <span id="tabTools">转换工具</span>
            </button>
        </nav>
        
        <!-- 用户手册 Tab -->
        <div class="tab-content active" id="manual-tab">
            <h2 id="manualTitle">eEGG用户手册</h2>
            
            <div class="content-wrapper">
                <!-- 语言切换链接 -->
                <div style="margin-bottom: 20px; text-align: center;">
                    <a href="./manual/usermanual-cn.html" class="manual-link" target="_blank">
                        <i class="fas fa-file-alt"></i> <span id="viewChineseManual">查看完整中文手册</span>
                    </a>
                    <a href="./manual/usermanual.html" class="manual-link" target="_blank">
                        <i class="fas fa-file-alt"></i> <span id="viewEnglishManual">View Full English Manual</span>
                    </a>
                </div>
                
                <!-- 产品功能 -->
                <div class="manual-section">
                    <h3 id="productFeaturesTitle">产品功能</h3>
                    <p id="productFeaturesDesc">电子球的设备型号不同，它们的功能也有所区别，以下是各个型号设备支持的功能列表：</p>
                    
                    <div class="feature-table">
                        <table id="featuresTable">
                            <thead>
                                <tr>
                                    <th id="thModel">设备型号</th>
                                    <th id="thProductName">产品名称</th>
                                    <th id="thVideo">视频播放</th>
                                    <th id="thImage">图片播放</th>
                                    <th id="thMusic">音乐播放</th>
                                    <th id="thRadio">网络电台</th>
                                    <th id="thGames">小游戏</th>
                                    <th id="thVoice">语音控制</th>
                                    <th id="thAI">AI对话</th>
                                    <th id="thTransfer">手机文件传输</th>
                                </tr>
                            </thead>
                            <tbody id="featuresTableBody">
                                <!-- 表格内容会动态加载 -->
                            </tbody>
                        </table>
                    </div>
                    <p class="note"><strong id="noteStrong">注：</strong> <span id="productNote">下文中将直接使用产品型号作为不同产品的代称。</span></p>
                </div>
                
                <!-- 设备操作 -->
                <div class="manual-section">
                    <h3 id="operationTitle">设备操作</h3>
                    
                    <h4 id="powerOnTitle">开机</h4>
                    <p id="powerOnDesc">电子球上部有1个硅胶电源按钮，用力按一下这个按钮，设备即可开机。</p>
                    <div class="warning">
                        <strong>⚠️<span id="warningText">注意</span>：</strong> <span id="chargingWarning">收到电子球后，请先给设备充满电后再使用。</span>
                    </div>
                    
                    <h4 id="shakeTitle">操作</h4>
                    <p id="shakeDesc">电子球内置加速度传感器, 可使用<strong>甩一甩</strong>来实现不同的功能。具体方法为：手握电子球连续轻轻甩动几次，然后停止等待约1秒钟，设备会识别甩动的次数并执行相应的功能：</p>
                    
                    <div class="feature-table">
                        <table id="shakeTable">
                            <thead>
                                <tr>
                                    <th id="thOperation">操作</th>
                                    <th id="thFunction">功能</th>
                                    <th id="thDescription">说明</th>
                                </tr>
                            </thead>
                            <tbody id="shakeTableBody">
                                <!-- 表格内容会动态加载 -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- 充电 -->
                <div class="manual-section">
                    <h3 id="chargingTitle">给设备充电</h3>
                    <ol id="chargingList">
                        <!-- 充电列表会动态加载 -->
                    </ol>
                </div>
                
                <!-- 文件传输方法 -->
                <div class="manual-section">
                    <h3 id="fileTransferTitle">文件传输方法</h3>
                    
                    <h4 id="browserTransferTitle">通过浏览器传输文件到设备</h4>
                    <p id="browserTransferDesc">操作设备菜单进入浏览器文件传输模式，打开电脑浏览器并输入设备的IP地址(通常是192.168.x.x)，根据提示管理设备上的文件(上传文件到设备或者从设备上删除文件)。</p>
                    <div class="note">
                        <strong>⚠️<span id="note1Text">注1</span>：</strong> <span id="browserNote">上传文件到设备前，您需要通过文件转换工具将视频/图片文件转换为设备可识别的格式。</span>
                    </div>
                    
                    <h4 id="phoneTransferTitle">通过手机传输文件到设备(对eEGG6、eEGG7和eEGG7-AI)</h4>
                    <p id="phoneTransferDesc">下载并安装"eEGG文件转换与传输助手"APP到您的手机，操作设备进入手机文件传输模式，连接同一WiFi网络，扫描二维码连接设备，即可传输文件。</p>
                    <div class="note">
                        <strong>⚠️<span id="noteText">注</span>：</strong> <span id="phoneNote">eEGG文件转换与传输助手会在传输文件前自动转换图片和视频格式。</span>
                    </div>
                    
                    <h4 id="usbTransferTitle">连接USB传输文件</h4>
                    <p id="usbTransferDesc">将设备通过USB直接连接到电脑，可以非常方便地将要播放的媒体文件直接复制到设备的内存。</p>
                    <div class="warning">
                        <strong>⚠️<span id="warning2Text">注意</span>：</strong> <span id="usbWarning">视频和图片文件复制前，需要使用视频和图片转换工具软件转换为设备可用的格式。不要删除设备上的目录,否则可能导致设备的某些功能无法正常工作。</span>
                    </div>
                </div>
                
                <!-- 快速链接 -->
                <div class="manual-section">
                    <h3 id="quickLinksTitle">快速链接</h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                        <a href="#apk-tab" class="manual-link tab-link" data-tab="apk">
                            <i class="fas fa-download"></i> <span id="downloadAppText">下载手机应用</span>
                        </a>
                        <a href="#tools-tab" class="manual-link tab-link" data-tab="tools">
                            <i class="fas fa-tools"></i> <span id="downloadToolsText">下载转换工具</span>
                        </a>
                        <a href="readme_tools.html" class="manual-link" target="_blank">
                            <i class="fas fa-file-pdf"></i> <span id="detailedTutorialText">转换工具详细教程</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- APK下载 Tab -->
        <div class="tab-content" id="apk-tab">
            <h2 id="apkTitle">下载应用</h2>
            
            <div class="content-wrapper">
                <p id="apkSubtitle">扫描下方二维码，立即安装eEGG文件转换与传送助手应用</p>
                
                <div class="qr-container">
                    <p id="qrDescription">使用手机扫描二维码下载应用</p>
                    <div id="qrcode"></div>
                    
                    <div class="version-selector" style="margin: 20px 0;">
                        <label for="versionSelect" id="versionLabel">选择版本:</label>
                        <select id="versionSelect" style="width: 100%; padding: 10px; margin-top: 10px; border-radius: 5px; border: 1px solid #ddd;">
                            <option value="" id="loadingVersions">加载版本中...</option>
                        </select>
                    </div>
                    
                    <a href="#" class="download-btn" id="directDownload" style="display: inline-block; width: auto; min-width: 200px;">
                        <i class="fas fa-download"></i> <span id="downloadBtnText">直接下载APK</span>
                    </a>
                </div>
                
                <div class="manual-section">
                    <h3 id="instructionsTitle">安装说明</h3>
                    <ol id="instructionsList">
                        <!-- 安装说明会动态加载 -->
                    </ol>
                </div>
                
                <div class="manual-section">
                    <h3 id="appInfoTitle">应用信息</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <strong id="labelAppName">应用名称:</strong><br>
                            <span id="appName">eEGG文件转换与传送助手</span>
                        </div>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <strong id="labelVersion">版本:</strong><br>
                            <span id="appVersion">0.1.0</span>
                        </div>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <strong id="labelSize">文件大小:</strong><br>
                            <span id="appSize">约 135 MB</span>
                        </div>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <strong id="labelRequirements">系统要求:</strong><br>
                            <span id="appRequirements">Android 5.0+</span>
                        </div>
                    </div>
                </div>
                
                <div id="releaseInfo" style="margin-top: 25px;">
                    <!-- 版本信息会动态加载 -->
                </div>
                
                <div class="manual-section">
                    <h3 id="notesTitle">注意事项</h3>
                    <ul id="notesList">
                        <!-- 注意事项会动态加载 -->
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- 转换工具 Tab -->
        <div class="tab-content" id="tools-tab">
            <h2 id="toolsTitle">转换工具下载</h2>
            
            <div class="content-wrapper">
                <p id="toolsSubtitle">下载视频和图片转换工具，将您的媒体文件转换为eEGG设备可识别的格式</p>
                
                <div class="download-grid">
                    <!-- 视频转换工具 -->
                    <div class="download-card">
                        <h4><i class="fas fa-video icon"></i> <span id="videoToolTitle">视频转换工具</span></h4>
                        <p id="videoToolDesc">将您的视频文件转换为eEGG设备可播放的格式。支持多种视频格式转换，可调整分辨率和帧率以适应不同型号设备。</p>
                        <div style="margin: 15px 0;">
                            <strong id="supportedFormats">支持格式:</strong>
                            <ul id="videoFormatsList" style="margin-top: 5px; font-size: 0.9rem;">
                                <!-- 视频格式列表会动态加载 -->
                            </ul>
                        </div>
                        <a href="https://github.com/ZONESTAR3D/eEGG-Tools/archive/refs/tags/VideoConverter-V0.7.zip" class="download-btn">
                            <i class="fas fa-download"></i> <span id="downloadVideoTool">下载视频转换工具</span>
                        </a>
                    </div>
                    
                    <!-- 图片转换工具 -->
                    <div class="download-card">
                        <h4><i class="fas fa-image icon"></i> <span id="imageToolTitle">图片转换工具</span></h4>
                        <p id="imageToolDesc">将您的图片文件转换为eEGG设备可显示的格式。支持批量转换，可调整尺寸和裁剪为圆形以适应设备屏幕。</p>
                        <div style="margin: 15px 0;">
                            <strong id="imageFeatures">功能特点:</strong>
                            <ul id="imageFeaturesList" style="margin-top: 5px; font-size: 0.9rem;">
                                <!-- 图片功能列表会动态加载 -->
                            </ul>
                        </div>
                        <a href="https://github.com/ZONESTAR3D/eEGG-Tools/archive/refs/tags/ImageConverter-V0.3.zip" class="download-btn">
                            <i class="fas fa-download"></i> <span id="downloadImageTool">下载图片转换工具</span>
                        </a>
                    </div>
                </div>
                
                <div class="manual-section">
                    <h3 id="usageGuideTitle">使用指南</h3>
                    
                    <h4 id="videoConversionTitle">视频转换步骤</h4>
                    <ol id="videoConversionSteps">
                        <!-- 视频转换步骤会动态加载 -->
                    </ol>
                    
                    <h4 id="imageConversionTitle">图片转换步骤</h4>
                    <ol id="imageConversionSteps">
                        <!-- 图片转换步骤会动态加载 -->
                    </ol>
                </div>
                
                <div class="manual-section">
                    <h3 id="importantNotesTitle">重要提示</h3>
                    <div class="warning">
                        <strong>⚠️<span id="importantNoteText">注意</span>：</strong>
                        <ul id="toolNotesList" style="margin-top: 10px;">
                            <!-- 工具注意事项会动态加载 -->
                        </ul>
                    </div>
                    
                    <div class="note" style="margin-top: 20px;">
                        <strong>💡 <span id="tipText">提示</span>：</strong>
                        <p id="toolTip">有关转换工具的详细使用方法和参数设置，请参考<a href="readme_tools.html" style="color: #17a2b8; font-weight: bold;"><span id="tutorialLinkText">转换工具详细教程</span></a>。</p>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p id="footerText">&copy; 2023 深圳市众视达创新科技有限公司. 保留所有权利.</p>
            <p style="margin-top: 10px; font-size: 0.85rem; color: #888;">
                <span id="contactInfo">如有问题请联系技术支持: support@zone-star.com</span>
            </p>
        </footer>
    </div>
    
    <a href="#" class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </a>

    <script>
        // 多语言配置
        const translations = {
            zh: {
                pageTitle: "eEGG电子球 - 完整资源中心",
                headerTitle: "eEGG电子球资源中心",
                headerSubtitle: "用户手册、应用下载、工具软件一站式获取",
                tabManual: "用户手册",
                tabAPK: "应用下载",
                tabTools: "转换工具",
                
                // 用户手册部分
                manualTitle: "eEGG用户手册",
                viewChineseManual: "查看完整中文手册",
                viewEnglishManual: "查看完整英文手册",
                
                productFeaturesTitle: "产品功能",
                productFeaturesDesc: "电子球的设备型号不同，它们的功能也有所区别，以下是各个型号设备支持的功能列表：",
                productNote: "下文中将直接使用产品型号作为不同产品的代称。",
                noteStrong: "注",
                
                // 表格标题
                thModel: "设备型号",
                thProductName: "产品名称",
                thVideo: "视频播放",
                thImage: "图片播放",
                thMusic: "音乐播放",
                thRadio: "网络电台",
                thGames: "小游戏",
                thVoice: "语音控制",
                thAI: "AI对话",
                thTransfer: "手机文件传输",
                
                // 表格数据
                featuresTableData: [
                    ["eEGG5", "5厘米电子球", "✔️", "✔️", "❌", "❌", "✔️", "❌", "❌", "❌"],
                    ["eEGG6", "6厘米电子球", "✔️", "✔️", "✔️", "✔️", "✔️", "❌", "✔️", "✔️"],
                    ["eEGG7", "7厘米电子球", "✔️", "✔️", "✔️", "✔️", "✔️", "❌", "✔️", "✔️"],
                    ["eEGG7-AI", "7厘米AI电子球", "✔️", "✔️", "✔️", "✔️", "❌", "✔️", "✔️", "✔️"]
                ],
                
                operationTitle: "设备操作",
                powerOnTitle: "开机",
                powerOnDesc: "电子球上部有1个硅胶电源按钮，用力按一下这个按钮，设备即可开机。",
                warningText: "注意",
                chargingWarning: "收到电子球后，请先给设备充满电后再使用。",
                
                shakeTitle: "操作",
                shakeDesc: "电子球内置加速度传感器, 可使用<strong>甩一甩</strong>来实现不同的功能。具体方法为：手握电子球连续轻轻甩动几次，然后停止等待约1秒钟，设备会识别甩动的次数并执行相应的功能：",
                
                // 摇动操作表格
                thOperation: "操作",
                thFunction: "功能",
                thDescription: "说明",
                shakeTableData: [
                    ["甩1次", "下一个/增加", "在菜单界面，切换下一个项目；在媒体播放时，播放下一个文件；调整音量时，音量增加"],
                    ["甩2次", "执行/上一个/减小", "在菜单界面，执行当前选择的菜单或功能；在媒体播放时，播放上一个文件；调整音量时，音量减少"],
                    ["甩3次", "打开菜单", "显示菜单界面"],
                    ["甩4次", "播放模式/音量调节", "在媒体播放时，甩4次可打开调整音量/播放模式的弹出式菜单；然后接着甩动可调整音量或播放模式"],
                    ["甩5次", "关机", "关机后按电子球上的按钮开机"]
                ],
                
                chargingTitle: "给设备充电",
                chargingSteps: [
                    "本设备可使用各类带Type-C接口充电器充电，通常情况下90分钟之内可充满内部电池。",
                    "如果设备长时间放置导致内部电池过放电，请先插上充电器10分钟之后，在试着打开设备的电源。",
                    "如果设备长时间不使用，建议至少每2个月给设备充满电一次。"
                ],
                
                fileTransferTitle: "文件传输方法",
                browserTransferTitle: "通过浏览器传输文件到设备",
                browserTransferDesc: "操作设备菜单进入浏览器文件传输模式，打开电脑浏览器并输入设备的IP地址(通常是192.168.x.x)，根据提示管理设备上的文件(上传文件到设备或者从设备上删除文件)。",
                note1Text: "注1",
                browserNote: "上传文件到设备前，您需要通过文件转换工具将视频/图片文件转换为设备可识别的格式。",
                
                phoneTransferTitle: "通过手机传输文件到设备(对eEGG6、eEGG7和eEGG7-AI)",
                phoneTransferDesc: "下载并安装\"eEGG文件转换与传输助手\"APP到您的手机，操作设备进入手机文件传输模式，连接同一WiFi网络，扫描二维码连接设备，即可传输文件。",
                noteText: "注",
                phoneNote: "eEGG文件转换与传输助手会在传输文件前自动转换图片和视频格式。",
                
                usbTransferTitle: "连接USB传输文件",
                usbTransferDesc: "将设备通过USB直接连接到电脑，可以非常方便地将要播放的媒体文件直接复制到设备的内存。",
                warning2Text: "注意",
                usbWarning: "视频和图片文件复制前，需要使用视频和图片转换工具软件转换为设备可用的格式。不要删除设备上的目录,否则可能导致设备的某些功能无法正常工作。",
                
                quickLinksTitle: "快速链接",
                downloadAppText: "下载手机应用",
                downloadToolsText: "下载转换工具",
                detailedTutorialText: "转换工具详细教程",
                
                // APK下载部分
                apkTitle: "下载应用",
                apkSubtitle: "扫描下方二维码，立即安装eEGG文件转换与传送助手应用",
                qrDescription: "使用手机扫描二维码下载应用",
                versionLabel: "选择版本:",
                loadingVersions: "加载版本中...",
                noReleases: "暂无可用版本",
                downloadCount: "下载次数:",
                releaseNotes: "版本说明",
                downloadBtnText: "直接下载APK",
                
                instructionsTitle: "安装说明",
                instructions: [
                    "使用手机摄像头或扫码工具扫描上方二维码",
                    "点击下载链接，等待应用下载完成",
                    "打开下载的APK文件进行安装",
                    "如有安全提示，请选择\"继续安装\"或\"允许安装\"",
                    "安装完成后即可打开应用"
                ],
                
                appInfoTitle: "应用信息",
                labelAppName: "应用名称:",
                labelVersion: "版本:",
                labelSize: "文件大小:",
                labelRequirements: "系统要求:",
                
                notesTitle: "注意事项",
                notes: [
                    "请确保手机有足够的存储空间",
                    "建议在Wi-Fi环境下下载以节省流量",
                    "安装前请确保已开启\"允许安装来自未知来源的应用\"",
                    "如有问题，请联系我们的技术支持"
                ],
                
                // 转换工具部分
                toolsTitle: "转换工具下载",
                toolsSubtitle: "下载视频和图片转换工具，将您的媒体文件转换为eEGG设备可识别的格式",
                videoToolTitle: "视频转换工具",
                videoToolDesc: "将您的视频文件转换为eEGG设备可播放的格式。支持多种视频格式转换，可调整分辨率和帧率以适应不同型号设备。",
                supportedFormats: "支持格式:",
                videoFormats: [
                    "MP4, AVI, MOV, MKV",
                    "转换为MJPEG格式",
                    "最大分辨率: 1920x1080",
                    "最大时长: 60秒"
                ],
                downloadVideoTool: "下载视频转换工具",
                
                imageToolTitle: "图片转换工具",
                imageToolDesc: "将您的图片文件转换为eEGG设备可显示的格式。支持批量转换，可调整尺寸和裁剪为圆形以适应设备屏幕。",
                imageFeatures: "功能特点:",
                imageFeaturesList: [
                    "支持JPG, PNG, BMP格式",
                    "批量转换功能",
                    "圆形裁剪选项",
                    "尺寸调整: 240x240 或 360x360"
                ],
                downloadImageTool: "下载图片转换工具",
                
                usageGuideTitle: "使用指南",
                videoConversionTitle: "视频转换步骤",
                videoConversionSteps: [
                    "下载并解压视频转换工具",
                    "运行视频转换工具应用软件",
                    "根据设备型号选择预设配置(eEGG5/eEGG6/eEGG7)",
                    "添加需要转换的视频文件",
                    "点击\"转换\"按钮，等待转换完成",
                    "转换后的文件保存在源文件目录下的output文件夹中"
                ],
                
                imageConversionTitle: "图片转换步骤",
                imageConversionSteps: [
                    "下载并解压图片转换工具",
                    "运行图片转换工具应用软件",
                    "根据设备型号选择输出尺寸(240×240或360×360)",
                    "点击\"导入\"按钮选择源图片文件",
                    "如需圆形裁剪，勾选相应选项",
                    "点击\"导出\"按钮并输入文件名保存"
                ],
                
                importantNotesTitle: "重要提示",
                importantNoteText: "注意",
                toolNotes: [
                    "转换工具仅支持Windows系统",
                    "解压路径中不要使用中文目录",
                    "视频文件长度不应超过60秒",
                    "建议视频分辨率为1920x1080，帧率30fps",
                    "转换前请备份原始文件"
                ],
                tipText: "提示",
                tutorialLinkText: "转换工具详细教程",
                toolTip: "有关转换工具的详细使用方法和参数设置，请参考转换工具详细教程。",
                
                // 页脚
                footerText: "&copy; 2023 深圳市众视达创新科技有限公司. 保留所有权利.",
                contactInfo: "如有问题请联系技术支持: support@zone-star.com"
            },
            en: {
                pageTitle: "eEGG Electronic Ball - Complete Resource Center",
                headerTitle: "eEGG Resource Center",
                headerSubtitle: "User Manual, App Downloads, Tools - All in One Place",
                tabManual: "User Manual",
                tabAPK: "App Download",
                tabTools: "Conversion Tools",
                
                // 用户手册部分
                manualTitle: "eEGG User Manual",
                viewChineseManual: "View Full Chinese Manual",
                viewEnglishManual: "View Full English Manual",
                
                productFeaturesTitle: "Product Features",
                productFeaturesDesc: "The functions of the eEGG vary depending on the model. Below is a list of supported functions for each model:",
                productNote: "The product model will be used directly as a designation for different products below.",
                noteStrong: "Note",
                
                // 表格标题
                thModel: "Model",
                thProductName: "Product Name",
                thVideo: "Video Player",
                thImage: "Image Player",
                thMusic: "Music Player",
                thRadio: "iRadio",
                thGames: "Games",
                thVoice: "Voice Control",
                thAI: "AI Dialogue",
                thTransfer: "Mobile File Transfer",
                
                // 表格数据
                featuresTableData: [
                    ["eEGG5", "5cm eEGG", "✔️", "✔️", "❌", "❌", "✔️", "❌", "❌", "❌"],
                    ["eEGG6", "6cm eEGG", "✔️", "✔️", "✔️", "✔️", "✔️", "❌", "✔️", "✔️"],
                    ["eEGG7", "7cm eEGG", "✔️", "✔️", "✔️", "✔️", "✔️", "❌", "✔️", "✔️"],
                    ["eEGG7-AI", "7cm AI eEGG", "✔️", "✔️", "✔️", "✔️", "❌", "✔️", "✔️", "✔️"]
                ],
                
                operationTitle: "Operation Guide",
                powerOnTitle: "Power On",
                powerOnDesc: "There is a silicone power button on the top of the eEGG. Press this button firmly to power on the device.",
                warningText: "Caution",
                chargingWarning: "After receiving the eEGG, please fully charge the device before use.",
                
                shakeTitle: "Shake-and-Do Operation",
                shakeDesc: "The eEGG has a built-in G-sensor and can be used to achieve different functions by <strong>swinging</strong> it. Gently shake the eEGG several times, then stop and wait for about 1 second. The device will recognize the number of shakes and execute the corresponding function:",
                
                // 摇动操作表格
                thOperation: "Operation",
                thFunction: "Function",
                thDescription: "Description",
                shakeTableData: [
                    ["Shake 1 time", "Next/+", "Switch to the next menu item; Play the next media file; Increase the volume."],
                    ["Shake 2 times", "Run/Prev./-", "Execute the selected menu or function; Play the previous file; Decrease the volume."],
                    ["Shake 3 times", "Open Menu", "Display the menu."],
                    ["Shake 4 times", "Mode/Volume", "Shaking 4 times opens a pop-up menu for adjusting volume/playback mode;"],
                    ["Shake 5 times", "Power Off", "After powering off, press the button on the eEGG to power it on."]
                ],
                
                chargingTitle: "Charging",
                chargingSteps: [
                    "This device can be charged using various chargers with a Type-C interface. Under normal circumstances, the internal battery can be fully charged within 90 minutes.",
                    "If the device has been left unused for an extended period, causing over-discharge of the internal battery, please plug in the charger for 10 minutes before trying to turn the device on.",
                    "If the device is not used for a long time, it is recommended to fully charge it at least once every two months."
                ],
                
                fileTransferTitle: "File Transfer Methods",
                browserTransferTitle: "Transferring Files to the Device via Browser",
                browserTransferDesc: "Accessing the Browser's File Transfer Mode via the Device Menu, open your computer's browser and enter the device's IP address (usually 192.168.x.x), follow the prompts to manage files on the device.",
                note1Text: "Note 1",
                browserNote: "Before uploading files to the device, you need to convert video/image files to a format that the device can recognize using a file conversion tool.",
                
                phoneTransferTitle: "Transferring Files to the Device via Mobile Phone (for eEGG6, eEGG7, and eEGG7-AI)",
                phoneTransferDesc: "Download and install the \"eEGG File Conversion and Transfer Assistant\" APP to your mobile phone, shake the eEGG to enter mobile file transfer mode, connect to the same WiFi network, scan the QR code to connect the device, then transfer files.",
                noteText: "Note",
                phoneNote: "eEGG File Converter and Transfer Assistant will automatically convert image and video formats before transferring files.",
                
                usbTransferTitle: "Transfer Files via PC (USB)",
                usbTransferDesc: "Connecting the device directly to the computer via USB allows for easy copying of media files to the device's memory.",
                warning2Text: "Caution",
                usbWarning: "Before copying video and image files, you need to use Video & Image Converter Tools to convert them. Do not delete directories on the device, otherwise some functions may malfunction.",
                
                quickLinksTitle: "Quick Links",
                downloadAppText: "Download App",
                downloadToolsText: "Download Tools",
                detailedTutorialText: "Detailed Tutorial",
                
                // APK下载部分
                apkTitle: "Download App",
                apkSubtitle: "Scan the QR code below to install the eEGG File Transfer Assistant app immediately",
                qrDescription: "Use your phone to scan the QR code and download the app",
                versionLabel: "Select Version:",
                loadingVersions: "Loading versions...",
                noReleases: "No releases available",
                downloadCount: "Download Count:",
                releaseNotes: "Release Notes",
                downloadBtnText: "Download APK Directly",
                
                instructionsTitle: "Installation Instructions",
                instructions: [
                    "Scan the QR code above using your phone camera or scanning tool",
                    "Click the download link and wait for the app to download",
                    "Open the downloaded APK file to install",
                    "If security prompts appear, select \"Continue installation\" or \"Allow installation\"",
                    "Open the app after installation is complete"
                ],
                
                appInfoTitle: "App Information",
                labelAppName: "App Name:",
                labelVersion: "Version:",
                labelSize: "File Size:",
                labelRequirements: "System Requirements:",
                
                notesTitle: "Important Notes",
                notes: [
                    "Ensure your phone has sufficient storage space",
                    "Recommended to download over Wi-Fi to save data",
                    "Make sure \"Allow installation from unknown sources\" is enabled before installing",
                    "Contact our technical support if you have any issues"
                ],
                
                // 转换工具部分
                toolsTitle: "Conversion Tools Download",
                toolsSubtitle: "Download video and image conversion tools to convert your media files to eEGG device compatible format",
                videoToolTitle: "Video Converter",
                videoToolDesc: "Convert your video files to eEGG device playable format. Supports multiple video format conversion, adjustable resolution and frame rate for different device models.",
                supportedFormats: "Supported Formats:",
                videoFormats: [
                    "MP4, AVI, MOV, MKV",
                    "Convert to MJPEG format",
                    "Max resolution: 1920x1080",
                    "Max duration: 60 seconds"
                ],
                downloadVideoTool: "Download Video Converter",
                
                imageToolTitle: "Image Converter",
                imageToolDesc: "Convert your image files to eEGG device displayable format. Supports batch conversion, adjustable size and circular cropping to fit device screen.",
                imageFeatures: "Features:",
                imageFeaturesList: [
                    "Supports JPG, PNG, BMP formats",
                    "Batch conversion function",
                    "Circular cropping option",
                    "Size adjustment: 240x240 or 360x360"
                ],
                downloadImageTool: "Download Image Converter",
                
                usageGuideTitle: "Usage Guide",
                videoConversionTitle: "Video Conversion Steps",
                videoConversionSteps: [
                    "Download and extract the video conversion tool",
                    "Launch the video converter application",
                    "Select preset configuration based on device model (eEGG5/eEGG6/eEGG7)",
                    "Add video files that need to be converted",
                    "Click \"Convert\" button and wait for conversion to complete",
                    "Converted files are saved in the output folder under the source file directory"
                ],
                
                imageConversionTitle: "Image Conversion Steps",
                imageConversionSteps: [
                    "Download and extract the image conversion tool",
                    "Launch the image converter application",
                    "Select output size based on device model (240×240 or 360×360)",
                    "Click \"Import\" button to select source image files",
                    "Check the circular cropping option if needed",
                    "Click \"Export\" button and enter filename to save"
                ],
                
                importantNotesTitle: "Important Notes",
                importantNoteText: "Note",
                toolNotes: [
                    "Conversion tools only support Windows system",
                    "Do not use Chinese characters in the extraction path",
                    "Video files should not exceed 60 seconds in length",
                    "Recommended video resolution is 1920x1080, frame rate 30fps",
                    "Back up original files before conversion"
                ],
                tipText: "Tip",
                tutorialLinkText: "Conversion Tool Detailed Tutorial",
                toolTip: "For detailed usage methods and parameter settings of conversion tools, please refer to the Conversion Tool Detailed Tutorial.",
                
                // 页脚
                footerText: "&copy; 2023 Shenzhen ZONESTAR Innovation Technology Co., Ltd. All rights reserved.",
                contactInfo: "For questions contact technical support: support@zone-star.com"
            }
        };
        
        // 应用配置信息
        const config = {
            appName: {
                zh: 'eEGG文件转换与传送助手',
                en: 'eEGG File Transfer Assistant'
            },
            appRequirements: {
                zh: 'Android 5.0+',
                en: 'Android 5.0+'
            },
            companyName: {
                zh: '深圳市众视达创新科技有限公司',
                en: 'Shenzhen ZONESTAR Innovation Technology Co., Ltd'
            }
        };
        
        // 检测浏览器语言
        function detectBrowserLanguage() {
            const browserLang = navigator.language || navigator.userLanguage;
            return browserLang.startsWith('zh') ? 'zh' : 'en';
        }
        
        // GitHub配置
        const githubConfig = {
            username: 'ZONESTAR3D',
            repository: 'EggAPK'
        };
        
        // 动态更新表格内容
        function updateTables(currentLang) {
            const t = translations[currentLang];
            
            // 更新产品功能表格
            const featuresTableBody = document.getElementById('featuresTableBody');
            featuresTableBody.innerHTML = '';
            t.featuresTableData.forEach(row => {
                const tr = document.createElement('tr');
                row.forEach(cell => {
                    const td = document.createElement('td');
                    td.innerHTML = cell;
                    tr.appendChild(td);
                });
                featuresTableBody.appendChild(tr);
            });
            
            // 更新摇动操作表格
            const shakeTableBody = document.getElementById('shakeTableBody');
            shakeTableBody.innerHTML = '';
            t.shakeTableData.forEach(row => {
                const tr = document.createElement('tr');
                row.forEach(cell => {
                    const td = document.createElement('td');
                    td.innerHTML = cell;
                    tr.appendChild(td);
                });
                shakeTableBody.appendChild(tr);
            });
            
            // 更新充电列表
            const chargingList = document.getElementById('chargingList');
            chargingList.innerHTML = '';
            t.chargingSteps.forEach(step => {
                const li = document.createElement('li');
                li.textContent = step;
                chargingList.appendChild(li);
            });
            
            // 更新安装说明
            const instructionsList = document.getElementById('instructionsList');
            instructionsList.innerHTML = '';
            t.instructions.forEach(instruction => {
                const li = document.createElement('li');
                li.textContent = instruction;
                instructionsList.appendChild(li);
            });
            
            // 更新注意事项
            const notesList = document.getElementById('notesList');
            notesList.innerHTML = '';
            t.notes.forEach(note => {
                const li = document.createElement('li');
                li.textContent = note;
                notesList.appendChild(li);
            });
            
            // 更新视频格式列表
            const videoFormatsList = document.getElementById('videoFormatsList');
            videoFormatsList.innerHTML = '';
            t.videoFormats.forEach(format => {
                const li = document.createElement('li');
                li.textContent = format;
                videoFormatsList.appendChild(li);
            });
            
            // 更新图片功能列表
            const imageFeaturesList = document.getElementById('imageFeaturesList');
            imageFeaturesList.innerHTML = '';
            t.imageFeaturesList.forEach(feature => {
                const li = document.createElement('li');
                li.textContent = feature;
                imageFeaturesList.appendChild(li);
            });
            
            // 更新视频转换步骤
            const videoConversionSteps = document.getElementById('videoConversionSteps');
            videoConversionSteps.innerHTML = '';
            t.videoConversionSteps.forEach(step => {
                const li = document.createElement('li');
                li.textContent = step;
                videoConversionSteps.appendChild(li);
            });
            
            // 更新图片转换步骤
            const imageConversionSteps = document.getElementById('imageConversionSteps');
            imageConversionSteps.innerHTML = '';
            t.imageConversionSteps.forEach(step => {
                const li = document.createElement('li');
                li.textContent = step;
                imageConversionSteps.appendChild(li);
            });
            
            // 更新工具注意事项
            const toolNotesList = document.getElementById('toolNotesList');
            toolNotesList.innerHTML = '';
            t.toolNotes.forEach(note => {
                const li = document.createElement('li');
                li.textContent = note;
                toolNotesList.appendChild(li);
            });
        }
        
        // 获取GitHub Releases
        async function fetchReleases() {
            try {
                console.log('Fetching releases...');
                const apiUrl = `https://api.github.com/repos/${githubConfig.username}/${githubConfig.repository}/releases`;
                
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                
                const releases = await response.json();
                console.log('Releases fetched:', releases);
                return releases;
            } catch (error) {
                console.error('Failed to fetch releases:', error);
                return [];
            }
        }
        
        // 从Release中查找APK文件
        function findApkAsset(release) {
            if (!release.assets || release.assets.length === 0) return null;
            return release.assets.find(asset => asset.name.toLowerCase().endsWith('.apk'));
        }
        
        // 生成二维码
        // function generateQRCode(url, container) {
        //     container.innerHTML = ''; // 清空容器
            
        //     try {
        //         // 直接使用QRCode生成二维码
        //         QRCode.toCanvas(container, url, {
        //             width: 200,
        //             height: 200,
        //             margin: 1,
        //             color: {
        //                 dark: '#000000',
        //                 light: '#FFFFFF'
        //             }
        //         }, function(error) {
        //             if (error) {
        //                 console.error('生成二维码失败:', error);
        //                 // 显示备用链接
        //                 container.innerHTML = `
        //                     <div style="text-align: center; padding: 20px;">
        //                         <p>二维码生成失败</p>
        //                         <p><a href="${url}" target="_blank" style="color: #2575fc; font-weight: bold;">
        //                             点击直接下载
        //                         </a></p>
        //                     </div>
        //                 `;
        //             }
        //         });
        //     } catch (error) {
        //         console.error('生成二维码异常:', error);
        //         // 显示备用链接
        //         container.innerHTML = `
        //             <div style="text-align: center; padding: 20px;">
        //                 <p>二维码生成异常</p>
        //                 <p><a href="${url}" target="_blank" style="color: #2575fc; font-weight: bold;">
        //                     点击直接下载
        //                 </a></p>
        //             </div>
        //         `;
        //     }
        // }

        function generateQRCode(url, container) {
            container.innerHTML = ''; // 清空容器
            
            // 创建canvas元素
            const canvas = document.createElement('canvas');
            container.appendChild(canvas);
            
            return new Promise((resolve, reject) => {
                QRCode.toCanvas(canvas, url, {
                    width: 200,
                    height: 200,
                    margin: 1,
                    color: {
                        dark: '#000000',
                        light: '#FFFFFF'
                    }
                }, function(error) {
                    if (error) {
                        console.error('生成二维码失败:', error);
                        container.innerHTML = '<p style="color: red;">二维码生成失败</p>';
                        reject(error);
                    } else {
                        console.log('二维码生成成功');
                        resolve();
                    }
                });
            });
        }
        
        // 更新版本选择器
        function updateVersionSelector(releases, currentLang) {
            const select = document.getElementById('versionSelect');
            
            if (releases.length === 0) {
                select.innerHTML = `<option value="">${translations[currentLang].noReleases}</option>`;
                return;
            }
            
            // 清空选项
            select.innerHTML = '';
            
            // 添加版本选项
            releases.forEach((release, index) => {
                const apkAsset = findApkAsset(release);
                if (apkAsset) {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${release.tag_name} - ${apkAsset.name}`;
                    option.dataset.downloadUrl = apkAsset.browser_download_url;
                    option.dataset.releaseData = JSON.stringify({
                        tag_name: release.tag_name,
                        name: release.name,
                        body: release.body,
                        download_count: apkAsset.download_count,
                        size: apkAsset.size,
                        created_at: release.created_at
                    });
                    select.appendChild(option);
                }
            });
            
            // 默认选择第一个版本
            if (select.options.length > 0) {
                select.selectedIndex = 0;
                updateReleaseInfo(0, releases, currentLang);
            }
        }
        
        // 更新版本信息显示
        function updateReleaseInfo(selectedIndex, releases, currentLang) {
            const releaseInfo = document.getElementById('releaseInfo');
            const select = document.getElementById('versionSelect');
            const selectedOption = select.options[selectedIndex];
            
            if (!selectedOption || !selectedOption.dataset.releaseData) {
                releaseInfo.innerHTML = '';
                return;
            }
            
            const releaseData = JSON.parse(selectedOption.dataset.releaseData);
            const fileSize = (releaseData.size / (1024 * 1024)).toFixed(1);
            
            releaseInfo.innerHTML = `
                <div class="manual-section">
                    <h3>${translations[currentLang].releaseNotes}</h3>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 10px;">
                        <p><strong>${releaseData.name || releaseData.tag_name}</strong></p>
                        <p>${releaseData.body || 'No release notes available.'}</p>
                        <div style="margin-top: 15px; display: flex; flex-wrap: wrap; gap: 15px;">
                            <div><strong>${translations[currentLang].downloadCount}</strong> ${releaseData.download_count}</div>
                            <div><strong>${translations[currentLang].labelSize}</strong> ${fileSize} MB</div>
                            <div><strong>${currentLang === 'zh' ? '发布时间' : 'Release Time'}:</strong> ${new Date(releaseData.created_at).toLocaleDateString()}</div>
                        </div>
                    </div>
                </div>
            `;
            
            // 更新下载链接和二维码
            const downloadUrl = selectedOption.dataset.downloadUrl;
            updateDownloadLinks(downloadUrl, currentLang, releaseData);
        }
        
        // 更新下载链接和二维码
        async function updateDownloadLinks(downloadUrl, currentLang, releaseData) {
            const downloadBtn = document.getElementById('directDownload');
            downloadBtn.href = downloadUrl;
            downloadBtn.querySelector('span').textContent = translations[currentLang].downloadBtnText;
            
            // 更新二维码
            const qrcodeContainer = document.getElementById('qrcode');
            try {
                await generateQRCode(downloadUrl, qrcodeContainer);
            } catch (error) {
                console.warn('QR code generation failed, using fallback:', error);
                qrcodeContainer.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <p>QR code generation failed</p>
                        <p><a href="${downloadUrl}" target="_blank">${translations[currentLang].downloadBtnText}</a></p>
                    </div>
                `;
            }
            
            // 更新应用信息
            if (releaseData) {
                document.getElementById('appVersion').textContent = releaseData.tag_name.replace('V', '');
                const sizeText = currentLang === 'zh' ? 
                    `约 ${(releaseData.size / (1024 * 1024)).toFixed(1)} MB` : 
                    `Approx. ${(releaseData.size / (1024 * 1024)).toFixed(1)} MB`;
                document.getElementById('appSize').textContent = sizeText;
            }
        }
        
        // 切换语言
        function switchLanguage(lang) {
            const t = translations[lang];
            
            // 更新页面标题和header
            document.title = t.pageTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('headerSubtitle').textContent = t.headerSubtitle;
            
            // 更新tab标题
            document.getElementById('tabManual').textContent = t.tabManual;
            document.getElementById('tabAPK').textContent = t.tabAPK;
            document.getElementById('tabTools').textContent = t.tabTools;
            
            // 更新tab内容标题
            document.getElementById('manualTitle').textContent = t.manualTitle;
            document.getElementById('apkTitle').textContent = t.apkTitle;
            document.getElementById('toolsTitle').textContent = t.toolsTitle;
            
            // 更新用户手册部分
            document.getElementById('viewChineseManual').textContent = t.viewChineseManual;
            document.getElementById('viewEnglishManual').textContent = t.viewEnglishManual;
            
            document.getElementById('productFeaturesTitle').textContent = t.productFeaturesTitle;
            document.getElementById('productFeaturesDesc').textContent = t.productFeaturesDesc;
            document.getElementById('productNote').textContent = t.productNote;
            document.getElementById('noteStrong').textContent = t.noteStrong;
            
            // 更新表格标题
            document.getElementById('thModel').textContent = t.thModel;
            document.getElementById('thProductName').textContent = t.thProductName;
            document.getElementById('thVideo').textContent = t.thVideo;
            document.getElementById('thImage').textContent = t.thImage;
            document.getElementById('thMusic').textContent = t.thMusic;
            document.getElementById('thRadio').textContent = t.thRadio;
            document.getElementById('thGames').textContent = t.thGames;
            document.getElementById('thVoice').textContent = t.thVoice;
            document.getElementById('thAI').textContent = t.thAI;
            document.getElementById('thTransfer').textContent = t.thTransfer;
            
            document.getElementById('operationTitle').textContent = t.operationTitle;
            document.getElementById('powerOnTitle').textContent = t.powerOnTitle;
            document.getElementById('powerOnDesc').textContent = t.powerOnDesc;
            document.getElementById('warningText').textContent = t.warningText;
            document.getElementById('chargingWarning').textContent = t.chargingWarning;
            
            document.getElementById('shakeTitle').textContent = t.shakeTitle;
            document.getElementById('shakeDesc').innerHTML = t.shakeDesc;
            document.getElementById('thOperation').textContent = t.thOperation;
            document.getElementById('thFunction').textContent = t.thFunction;
            document.getElementById('thDescription').textContent = t.thDescription;
            
            document.getElementById('chargingTitle').textContent = t.chargingTitle;
            
            document.getElementById('fileTransferTitle').textContent = t.fileTransferTitle;
            document.getElementById('browserTransferTitle').textContent = t.browserTransferTitle;
            document.getElementById('browserTransferDesc').textContent = t.browserTransferDesc;
            document.getElementById('note1Text').textContent = t.note1Text;
            document.getElementById('browserNote').textContent = t.browserNote;
            document.getElementById('phoneTransferTitle').textContent = t.phoneTransferTitle;
            document.getElementById('phoneTransferDesc').textContent = t.phoneTransferDesc;
            document.getElementById('noteText').textContent = t.noteText;
            document.getElementById('phoneNote').textContent = t.phoneNote;
            document.getElementById('usbTransferTitle').textContent = t.usbTransferTitle;
            document.getElementById('usbTransferDesc').textContent = t.usbTransferDesc;
            document.getElementById('warning2Text').textContent = t.warning2Text;
            document.getElementById('usbWarning').textContent = t.usbWarning;
            
            document.getElementById('quickLinksTitle').textContent = t.quickLinksTitle;
            document.getElementById('downloadAppText').textContent = t.downloadAppText;
            document.getElementById('downloadToolsText').textContent = t.downloadToolsText;
            document.getElementById('detailedTutorialText').textContent = t.detailedTutorialText;
            
            // 更新APK下载部分
            document.getElementById('apkSubtitle').textContent = t.apkSubtitle;
            document.getElementById('qrDescription').textContent = t.qrDescription;
            document.getElementById('versionLabel').textContent = t.versionLabel;
            document.getElementById('loadingVersions').textContent = t.loadingVersions;
            document.getElementById('instructionsTitle').textContent = t.instructionsTitle;
            document.getElementById('appInfoTitle').textContent = t.appInfoTitle;
            document.getElementById('labelAppName').textContent = t.labelAppName;
            document.getElementById('labelVersion').textContent = t.labelVersion;
            document.getElementById('labelSize').textContent = t.labelSize;
            document.getElementById('labelRequirements').textContent = t.labelRequirements;
            document.getElementById('notesTitle').textContent = t.notesTitle;
            
            // 更新转换工具部分
            document.getElementById('toolsSubtitle').textContent = t.toolsSubtitle;
            document.getElementById('videoToolTitle').textContent = t.videoToolTitle;
            document.getElementById('videoToolDesc').textContent = t.videoToolDesc;
            document.getElementById('supportedFormats').textContent = t.supportedFormats;
            document.getElementById('downloadVideoTool').textContent = t.downloadVideoTool;
            document.getElementById('imageToolTitle').textContent = t.imageToolTitle;
            document.getElementById('imageToolDesc').textContent = t.imageToolDesc;
            document.getElementById('imageFeatures').textContent = t.imageFeatures;
            document.getElementById('downloadImageTool').textContent = t.downloadImageTool;
            document.getElementById('usageGuideTitle').textContent = t.usageGuideTitle;
            document.getElementById('videoConversionTitle').textContent = t.videoConversionTitle;
            document.getElementById('imageConversionTitle').textContent = t.imageConversionTitle;
            document.getElementById('importantNotesTitle').textContent = t.importantNotesTitle;
            document.getElementById('importantNoteText').textContent = t.importantNoteText;
            document.getElementById('tipText').textContent = t.tipText;
            document.getElementById('tutorialLinkText').textContent = t.tutorialLinkText;
            document.getElementById('toolTip').innerHTML = t.toolTip.replace('转换工具详细教程', `<span id="tutorialLinkText">${t.tutorialLinkText}</span>`);
            
            // 更新页脚
            document.getElementById('footerText').innerHTML = t.footerText;
            document.getElementById('contactInfo').textContent = t.contactInfo;
            
            // 更新应用信息
            document.getElementById('appName').textContent = config.appName[lang];
            document.getElementById('appRequirements').textContent = config.appRequirements[lang];
            
            // 更新表格内容
            updateTables(lang);
            
            // 更新语言按钮状态
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
            
            // 保存语言偏好
            localStorage.setItem('preferredLanguage', lang);
            
            // 重新加载版本信息
            loadReleases(lang);
        }
        
        // 加载Releases
        async function loadReleases(currentLang) {
            try {
                const releases = await fetchReleases();
                updateVersionSelector(releases, currentLang);
                
                // 设置版本切换事件
                const versionSelect = document.getElementById('versionSelect');
                if (versionSelect) {
                    versionSelect.addEventListener('change', function() {
                        updateReleaseInfo(this.selectedIndex, releases, currentLang);
                    });
                }
            } catch (error) {
                console.error('Failed to load releases:', error);
                const releaseInfo = document.getElementById('releaseInfo');
                if (releaseInfo) {
                    releaseInfo.innerHTML = 
                        '<div style="color: red; padding: 10px;">Failed to load version information, please refresh the page and try again.</div>';
                }
            }
        }
        
        // 页面加载完成
        document.addEventListener('DOMContentLoaded', function() {
            const preferredLang = localStorage.getItem('preferredLanguage') || detectBrowserLanguage();
            
            // 初始化语言
            switchLanguage(preferredLang);
            
            // 语言切换按钮事件
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    switchLanguage(this.dataset.lang);
                });
            });
            
            // Tab切换功能
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    // 移除所有active类
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // 添加active类到当前tab
                    this.classList.add('active');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                    
                    // 滚动到顶部
                    document.querySelector('.tab-content.active').scrollTop = 0;
                    
                    // 更新返回顶部按钮
                    updateBackToTopButton();
                });
            });
            
            // 快速链接跳转
            document.querySelectorAll('.tab-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tabId = this.dataset.tab;
                    
                    // 切换到对应tab
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    const targetTab = document.querySelector(`.tab-btn[data-tab="${tabId}"]`);
                    if (targetTab) {
                        targetTab.classList.add('active');
                        document.getElementById(`${tabId}-tab`).classList.add('active');
                    }
                });
            });
            
            // 返回顶部按钮
            const backToTopBtn = document.getElementById('backToTop');
            
            window.addEventListener('scroll', function() {
                updateBackToTopButton();
            });
            
            if (backToTopBtn) {
                backToTopBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }
            
            function updateBackToTopButton() {
                if (backToTopBtn) {
                    if (window.scrollY > 300) {
                        backToTopBtn.style.display = 'flex';
                    } else {
                        backToTopBtn.style.display = 'none';
                    }
                }
            }
            
            // 初始化返回顶部按钮
            updateBackToTopButton();
        });
    </script>
</body>
</html>